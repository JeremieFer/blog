<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A primer on generating RLVR problems</title>
  
  <!-- Highlight.js for syntax highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;
      line-height: 1.7;
      color: #1a1a2e;
      background: #fafafa;
    }

    article {
      max-width: 720px;
      margin: 4rem auto;
      padding: 0 1.5rem;
    }

    h1 {
      font-size: 2.2rem;
      font-weight: 800;
      letter-spacing: -0.03em;
      margin-bottom: 2rem;
    }

    h2 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-top: 2.5rem;
      margin-bottom: 1rem;
      letter-spacing: -0.01em;
    }

    p {
      margin-bottom: 1.2rem;
      font-size: 1.05rem;
    }

    ul {
      margin-bottom: 1.5rem;
      padding-left: 1.5rem;
    }

    li {
      margin-bottom: 0.5rem;
      font-size: 1.05rem;
    }

    a {
      color: #3182ce;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    pre {
      border-radius: 8px;
      margin: 1.5rem 0;
      font-size: 0.9rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    
    /* Small inline code tweak */
    :not(pre) > code {
      font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
      background: #edf2f7;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-size: 0.9em;
      color: #e53e3e;
    }

    .video-container {
      width: 100%;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
      margin: 2rem 0;
    }

    .video-container video {
      display: block;
      width: 100%;
      border-radius: 12px;
    }

  </style>
</head>
<body>
  <article>
    <h1>A primer on generating RLVR problems</h1>

    <h2>What's RLVR?</h2>
    <ul>
      <li><strong>The breakthrough:</strong> If you are wondering how models jumped from chat to full scope agents capable to automate most developers' jobs (like Lovable, Cursor, Claude Code...), the answer is RLVR.</li>
      <li><strong>At the core level:</strong> It's about putting a model in an environment where it can take actions and get programmatically rewarded when it reaches a set goal (a bit like a game if you will).</li>
    </ul>

    <div style="text-align: center; margin: 2rem 0;">
      <img src="assets/retro-mario.gif" alt="Mario game analogy for RLVR" style="max-width: 100%; border-radius: 8px;">
    </div>

    <h2>RLVR Gyms</h2>
    <p>RLVR Gyms (think of little sandboxed environments a model can learn in) are composed of 3 things:</p>
    <ul>
      <li><strong>The observation environment:</strong> What's in the sandbox — a simple chat interface, a filesystem, a codebase, or a whole computer desktop.</li>
      <li><strong>A space of actions:</strong> The tools the model can use to interact with its environment (API calls, terminal commands, mouse clicks, keystrokes...).</li>
      <li><strong>A curriculum of tasks:</strong> A challenging and useful set of exercises, goals, or prompts we're going to give the model to train it on.</li>
      <li><strong>A library of graders:</strong> Deterministic code functions that are going to assess task completion.</li>
    </ul>

    <h2>Beyond coding agents</h2>
    <p><strong>Are RLVR environments just to make coding agents better?</strong> Yes, but not only (well we hope).</p>
    <ul>
      <li><strong>Expanding capabilities:</strong> The recent focus in the industry is that we can apply this paradigm to other than code and make models get better at all sorts of stuff: 2D whiteboarding, 3D design, accountability... your job (sorry).</li>
      <li><strong>Why it's not done yet:</strong> We need to bring those into verifiable territory.</li>
    </ul>

    <h2>What it looks like in practice</h2>
    <p>
      Let's take <a href="https://excalidraw.com/" target="_blank">Excalidraw</a> (a 2D whiteboarding tool that allows you to draw shapes, lines, and text on a canvas) as an example.
    </p>
    <p>In our setup:</p>
    <ul>
      <li><strong>Observation environment:</strong> An Excalidraw canvas with a pre-loaded project.</li>
      <li><strong>Space of actions:</strong> Screenshots (read) and mouse clicks / keystrokes (write). This modality is called computer use.</li>
    </ul>
    <p><strong>Now we got to give him tasks to do.</strong></p>
    <p>Here is a fairly basic but actually quite challenging one for Claude 4.5 Opus:</p>
    <ul>
      <li><em>"Put the yellow circle inside the blue box"</em></li>
    </ul>
    
    <p>Let's watch Claude's attempt at it:</p>
    
    <div class="video-container">
      <video controls preload="metadata">
        <source src="assets/excalidraw.mp4" type="video/mp4">
      </video>
    </div>

    <p>... it fails.</p>
    <p>
      Now if you reproduce this locally and run it 10 times, you'll see it actually succeeds some of the time. That makes it a perfect candidate task for RLVR—we say it's <strong>"calibrated"</strong>.
    </p>
    <p>
      Notice Claude also hallucinates task completion in this example. <strong>That's why we need deterministic graders.</strong>
    </p>

    <h2>But how do grade it ?</h2>
    <p><strong>Environment state:</strong></p>
    <p>Environments need to expose a state we can inspect in code. Luckily for us, Excalidraw relies on JSON!</p>
    <p>
      <strong>This typically looks like:</strong>
    </p>
<pre><code class="language-json">{
  "type": "excalidraw",
  "elements": [
    {
      "type": "rectangle",
      "backgroundColor": "#a5d8ff",
      "x": 7613.28,
      "y": -122.36,
      "width": 1852.46,
      "height": 1760.15
    },
    {
      "type": "ellipse",
      "backgroundColor": "#ffec99",
      "x": 12792.62,
      "y": -0.84,
      "width": 1633.90,
      "height": 1608.43
    }
  ]
}</code></pre>

    <p><strong>Now let's see about our graders.</strong> The agent attempted the task, we have our end state... time to grade it.</p>
    <ul>
      <li><strong>Grader:</strong> A function that is going to reward (or not) the agent after a task attempt.</li>
    </ul>

<pre><code class="language-python">def grader(project_excalidraw: dict[str, Any]) -> GraderResult:
    """
    Grades an Excalidraw project.

    Rubrics:
    - has_one_ellipse: Project contains exactly one ellipse
    - has_one_rectangle: Project contains exactly one rectangle
    - ellipse_is_yellow: The ellipse has a yellow background (#ffec99)
    - rectangle_is_blue: The rectangle has a blue background (#a5d8ff)
    - ellipse_within_rectangle: The ellipse is fully contained within the rectangle

    Value mappings:
    - "yellow" → #ffec99 (Excalidraw's default yellow)
    - "blue" → #a5d8ff (Excalidraw's default light blue)
    """
    project = ExcalidrawProject(project_excalidraw)

    ellipse = project.get_ellipse()
    rectangle = project.get_rectangle()

    has_one_ellipse = ellipse is not None
    has_one_rectangle = rectangle is not None
    ellipse_is_yellow = ellipse.has_background_color("#ffec99") if ellipse else False
    rectangle_is_blue = rectangle.has_background_color("#a5d8ff") if rectangle else False
    ellipse_within_rectangle = ellipse.is_within(rectangle) if ellipse and rectangle else False

    rubrics = {
        "has_one_ellipse": has_one_ellipse,
        "has_one_rectangle": has_one_rectangle,
        "ellipse_is_yellow": ellipse_is_yellow,
        "rectangle_is_blue": rectangle_is_blue,
        "ellipse_within_rectangle": ellipse_within_rectangle,
    }

    grade = 1 if all(rubrics.values()) else 0

    return {"grade": grade, "rubrics": rubrics}</code></pre>

    <p>That's it, we now have a RLVR task.</p>

    <h2>Building a curriculum of RLVR tasks</h2>
    <p>LLMs are like students — they need exercises to learn, but a lot of them. One task is not going to cut it, we need to feed thousands.</p>
    <ul>
      <li><strong>Too easy:</strong> The model gets bored and won't learn.</li>
      <li><strong>Too hard:</strong> The model gets frustrated... and won't learn either.</li>
    </ul>
    <p>That's why we need tasks in the right difficulty range (like the one above) — and that notion of difficulty is specific to the model we're training.</p>
    <p><strong>Building a curriculum of tasks is a search problem:</strong> find the intersection of deterministically verifiable tasks, doable but challenging for the model (=difficulty calibrated), and that are aligned with what a human would ask the agent.</p>

    <div style="text-align: center; margin: 2rem 0;">
      <img src="assets/venn.svg" alt="Venn diagram — intersection of verifiable, calibrated, and human-aligned tasks" style="max-width: 100%; border-radius: 10px;">
    </div>

    <h2>Wait wtf... why are we doing this again?</h2>
    <p><strong>Because this is what it looks like when it works:</strong></p>

    <div style="text-align: center; margin: 2rem 0;">
      <img src="https://raw.githubusercontent.com/excalidraw/excalidraw-mcp/main/docs/demo.gif" alt="Excalidraw MCP App demo — Claude drawing diagrams live" style="max-width: 100%; border-radius: 10px; box-shadow: 0 4px 16px rgba(0,0,0,0.1);">
    </div>
    <p style="font-size: 0.9rem; color: #718096; text-align: center;">
      Credit: <a href="https://github.com/antonpk1" target="_blank">Anton Pidkuiko</a> — <a href="https://github.com/excalidraw/excalidraw-mcp" target="_blank">excalidraw-mcp</a>
    </p>

    <p><em>Note: Ok so it's not raw computer use — this Claude is using an MCP. But you get the idea.</em></p>

    <p>-> beyond Excalidraw, models will be able to autonomously operate anything on your computer — Anthropic is already shipping this with <a href="https://claude.com/blog/cowork-research-preview" target="_blank">Cowork</a>.</p>

    

    <h2>Get in touch</h2>
    <ul>
      <li>I don't know him personally, but <strong>Will Brown</strong> puts out great content on this: <a href="https://x.com/willccbb" target="_blank">@willccbb</a></li>
      <li>Or alternatively, my modest self: <a href="https://x.com/jayyiron" target="_blank">@jayyiron</a></li>
    </ul>
    <p><em>→ Seriously, do DM me if you want to work on this!</em></p>

  </article>
</body>
</html>